<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spørreskjema</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Spørreskjema</h1>
    <div id="sporreskjema">     <!--Div for alle radioknappene og knappene for spørreundersøkelses skjema-->
    <h3>Svar på spørsmålene under:</h3>

        <h4>Jorda er rund</h4>
        <label>
            <input type="radio" name="sporsmal1" value="Ja" id="enig1"> Enig
            <input type="radio" name="sporsmal1" value="Nei" id="uenig1"> Uenig
        </label>
        <br>
        <h4>Sjokolade er ikke godt</h4>
        <label>
            <input type="radio" name="sporsmal2" value="Ja" id="enig2"> Enig
            <input type="radio" name="sporsmal2" value="Nei" id="uenig2"> Uenig
        </label>
        <br>
        <h4>Jorda er større enn mars</h4>
        <label>
            <input type="radio" name="sporsmal3" value="Ja" id="enig3"> Enig
            <input type="radio" name="sporsmal3" value="Nei" id="uenig3"> Uenig
        </label>
        <br>
        <h4>IT er morsomt</h4>
        <label>
            <input type="radio" name="sporsmal4" value="Ja" id="enig4"> Enig
            <input type="radio" name="sporsmal4" value="Nei" id="uenig4"> Uenig
        </label>
        <br>

        <label>
        <button id="svar" style="margin-top: 20px">Svar</button>
            <button id="visResultater" style="margin-top: 20px">Vis resultater</button>
        </label>
    </div>


    <div id="resultater">   <!--Div for alle søylene i søylediagrammet-->
        <h4>Resultater fra spørreundersøkelsen:</h4>

        <p id="tekstResultat">Jorda er rund</p>
        <div id="sparsmalResultat1"></div>

        <p id="tekstResultat">Sjokolade er ikke godt</p>
        <div id="sparsmalResultat2"></div>

        <p id="tekstResultat">Jorda er større enn mars</p>
        <div id="sparsmalResultat3"></div>

        <p id="tekstResultat">IT er morsomt</p>
        <div id="sparsmalResultat4"></div>

        <button id="visSkjema" style="margin-top: 20px">Vis spørreskjema</button>
    </div>
</body>
</html>
<script>

    //Definerer alle variablene
    let enig1 = 0;
    let enig2 = 0;
    let enig3 = 0;
    let enig4 = 0;
    let totaleSvarStart = 0;
    let enig1EL = document.querySelector("#enig1");
    let enig2EL = document.querySelector("#enig2");
    let enig3EL = document.querySelector("#enig3");
    let enig4EL = document.querySelector("#enig4");
    let svarEl = document.querySelector("#svar");
    let visResultaterEl = document.querySelector("#visResultater");
    let visSkjemaEl = document.querySelector("#visSkjema");

    //Kaller på funksjoner når knappene blir trykket på
    svarEl.addEventListener("click", sjekkSvar);
    svarEl.addEventListener("click", totalesvarf);
    visResultaterEl.addEventListener("click", visResultaterf);
    visSkjemaEl.addEventListener("click", visSkjemaf);

    //Funksjon som teller hvis radioknappene er sjekket
    function sjekkSvar() {
        if (enig1EL.checked){ enig1 = enig1 + 1
        }
        if (enig2EL.checked){ enig2 = enig2 + 1
        }
        if (enig3EL.checked){ enig3 = enig3 + 1
        }
        if (enig4EL.checked){ enig4 = enig4 + 1
        }
    }

    //Funksjon som bestemmer størrelsen til søylene
    function totalesvarf() {
        totaleSvarStart = totaleSvarStart + 1;
        document.getElementById("sparsmalResultat1").style.width = enig1/totaleSvarStart*100+"%";
        document.getElementById("sparsmalResultat2").style.width = enig2/totaleSvarStart*100+"%";
        document.getElementById("sparsmalResultat3").style.width = enig3/totaleSvarStart*100+"%";
        document.getElementById("sparsmalResultat4").style.width = enig4/totaleSvarStart*100+"%";
    }

    //Funksjon som gjør divene synlige og usynlige
    function visResultaterf() {
        document.getElementById("sporreskjema").style.display = "none";
        document.getElementById("resultater").style.display = "";
    }
    function visSkjemaf () {
        document.getElementById("sporreskjema").style.display = "";
        document.getElementById("resultater").style.display = "none";
    }

    //Bestemmer størrelsen til søylene på starten
    document.getElementById("resultater").style.display = "none";
    document.getElementById("sparsmalResultat1").style.backgroundColor = "red";
    document.getElementById("sparsmalResultat1").style.width = 0+"%";
    document.getElementById("sparsmalResultat2").style.backgroundColor = "red";
    document.getElementById("sparsmalResultat2").style.width = 0+"%";
    document.getElementById("sparsmalResultat3").style.backgroundColor = "red";
    document.getElementById("sparsmalResultat3").style.width = 0+"%";
    document.getElementById("sparsmalResultat4").style.backgroundColor = "red";
    document.getElementById("sparsmalResultat4").style.width = 0+"%";


</script>